(function(){"use strict";var __webpack_modules__={1573:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3396),vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7139),vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4870),pixi_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7813),pixi_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_1__),_assets_js_resources__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8878),_assets_js_move__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3697),_assets_js_bump__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6028);const _withScopeId=e=>((0,vue__WEBPACK_IMPORTED_MODULE_0__.dD)("data-v-6c791865"),e=e(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Cn)(),e),_hoisted_1={class:"info-box"},_hoisted_2={class:"hp-box"},_hoisted_3={key:0,class:"start-box"},_hoisted_4={class:"box-content"},_hoisted_5={class:"content"},_hoisted_6={class:"score"};__webpack_exports__["Z"]=(0,vue__WEBPACK_IMPORTED_MODULE_0__.aZ)({setup(__props){let Application=pixi_js__WEBPACK_IMPORTED_MODULE_1__.Application,loader=pixi_js__WEBPACK_IMPORTED_MODULE_1__.loader,Sprite=pixi_js__WEBPACK_IMPORTED_MODULE_1__.Sprite,resources=pixi_js__WEBPACK_IMPORTED_MODULE_1__.loader.resources,panelWidth=document.body.clientWidth,panelHeight=document.body.clientHeight,trackNum=20,roleWidth=100,roleHeight=150,bulletParams={createSpeed:.2,speed:10,width:12,height:12},hairParams={createSpeed:.7,hp:2,width:50,height:35},chickenParams={createSpeed:1,hp:5,width:50,height:50},litchiParams={createSpeed:5,width:50,height:50},enemyArr=[{type:"hair",isHit:!1,voice:"boom"},{type:"chicken",isHit:!1,voice:"crow"}],rewardArr=[{type:"litchi",isHit:!1,voice:"reward"}];const state=(0,vue__WEBPACK_IMPORTED_MODULE_3__.qj)({status:!1,content:"",score:0,hp:100}),hpClass=(0,vue__WEBPACK_IMPORTED_MODULE_0__.Fl)((()=>({more:state.hp>=70,middle:state.hp>30&&state.hp<70,less:state.hp<=30})));let trackWidth=Math.floor(panelWidth/trackNum),trackArr=new Array(trackNum);for(let e=0;e<trackNum;e++)trackArr[e]=trackWidth*(e+1)+25;let app=new Application({width:panelWidth,height:panelHeight,antialias:!0,transparent:!1,resolution:1,backgroundAlpha:0});for(let e in _assets_js_resources__WEBPACK_IMPORTED_MODULE_2__._)loader.add(e,_assets_js_resources__WEBPACK_IMPORTED_MODULE_2__._[e]);loader.load(setup);let plane,bulletArr=[],chickenArr=[],hairArr=[],litchiArr=[];function setup(){let e=new Sprite(resources.bg.texture);e.width=panelWidth,e.height=panelHeight,e.x=0,e.y=0,app.stage.addChild(e),plane=new Sprite(resources.cxk.texture),plane.x=panelWidth/2-roleWidth/2,plane.y=panelHeight-20-roleHeight,plane.width=roleWidth,plane.height=roleHeight,plane.vx=0,plane.vy=0,plane.interactive=!0,app.stage.addChild(plane),(0,_assets_js_move__WEBPACK_IMPORTED_MODULE_4__.Z)(plane),app.ticker.add((()=>gameLoop())),app.ticker.stop()}let delay=0;function gameLoop(){if(delay+=1,plane.x+=plane.vx,plane.y+=plane.vy,plane.x<0&&(plane.x=0),plane.y<0&&(plane.y=0),plane.x>panelWidth-roleWidth&&(plane.x=panelWidth-roleWidth),plane.y>panelHeight-roleHeight&&(plane.y=panelHeight-roleHeight),delay%Math.round(60*bulletParams.createSpeed)===0){let e=new Sprite(resources.basketball.texture);app.stage.addChild(e),e.x=plane.x+roleWidth/2,e.y=plane.y-20,e.width=bulletParams.width,e.height=bulletParams.height,e.anchor.set(.5),bulletArr.push(e);let _=new Audio;_.src=resources.biu.url,_.play()}if(delay%Math.round(60*hairParams.createSpeed)===0){let e=new Sprite(resources.hair.texture),_=Math.floor(Math.random()*trackNum);app.stage.addChild(e),e.x=trackArr[_],e.y=0,e.width=hairParams.width,e.height=hairParams.height,e.hp=hairParams.hp,hairArr.push(e)}if(delay%Math.round(60*chickenParams.createSpeed)===0){let e=new Sprite(resources.chicken.texture),_=Math.floor(Math.random()*trackNum);app.stage.addChild(e),e.x=trackArr[_],e.y=0,e.hp=chickenParams.hp,e.width=chickenParams.width,e.height=chickenParams.height,chickenArr.push(e)}if(delay%Math.round(60*litchiParams.createSpeed)===0){let e=new Sprite(resources.litchi.texture),_=Math.floor(Math.random()*trackNum);app.stage.addChild(e),e.x=trackArr[_],e.y=0,e.vx=2*Math.random()-1,e.vy=Math.random()+1,e.width=litchiParams.width,e.height=litchiParams.height,litchiArr.push(e)}for(let i=0;i<bulletArr.length;i++){bulletArr[i].rotation=delay%10/10,bulletArr[i].y-=bulletParams.speed;let _enemyArr=JSON.parse(JSON.stringify(enemyArr));for(let m=0;m<_enemyArr.length;m++){let enemy=_enemyArr[m],curEnemyArr=eval(enemy.type+"Arr");for(let e=0;e<curEnemyArr.length;e++)if((0,_assets_js_bump__WEBPACK_IMPORTED_MODULE_5__.Y)(bulletArr[i],curEnemyArr[e])){if(curEnemyArr[e].hp-=1,curEnemyArr[e].hp<=0){let _=bulletArr.splice(i,1)[0],t=curEnemyArr.splice(e,1)[0],r=new Audio;r.src=resources[enemy.voice].url,r.play(),_.visible=!1,t.visible=!1,enemy.isHit=!0;break}{let e=bulletArr.splice(i,1)[0];e.visible=!1,enemy.isHit=!0;break}}if(enemy.isHit)break}if(_enemyArr.some((e=>e.isHit)))i--,state.score++;else if(bulletArr[i].y<0){let e=bulletArr.splice(i,1)[0];e.visible=!1,i--}}let rewardArray=JSON.parse(JSON.stringify(rewardArr));for(let n=0;n<rewardArray.length;n++){let reward=rewardArray[n],curRewardArr=eval(reward.type+"Arr");for(let e=0;e<curRewardArr.length;e++)if((0,_assets_js_bump__WEBPACK_IMPORTED_MODULE_5__.Y)(plane,curRewardArr[e])){let _=curRewardArr.splice(e,1)[0],t=new Audio;t.src=resources[reward.voice].url,t.play(),state.hp+=20,_.visible=!1}}let enemyArray=JSON.parse(JSON.stringify(enemyArr));for(let m=0;m<enemyArray.length;m++){let enemy=enemyArray[m],curEnemyArr=eval(enemy.type+"Arr");for(let e=0;e<curEnemyArr.length;e++)if((0,_assets_js_bump__WEBPACK_IMPORTED_MODULE_5__.Y)(plane,curEnemyArr[e])){let _=curEnemyArr.splice(e,1)[0],t=new Audio;t.src=resources.ngm.url,t.play(),state.hp-=10,_.visible=!1}if(enemy.isHit)break}enemyArr.forEach((item=>{let curEnemyArr=eval(item.type+"Arr");for(let e=0;e<curEnemyArr.length;e++){let _=curEnemyArr[e];if(_.y+=2,_.y>panelHeight){let _=curEnemyArr.splice(e,1)[0];_.visible=!1}}})),rewardArr.forEach((item=>{let curRewardArr=eval(item.type+"Arr");for(let e=0;e<curRewardArr.length;e++){let _=curRewardArr[e];if(_.x+=_.vx,_.y+=_.vy,_.y>panelHeight){let _=curRewardArr.splice(e,1)[0];_.visible=!1}}}))}const startGame=()=>{state.status=!0,state.score=0,app.ticker.start()};(0,vue__WEBPACK_IMPORTED_MODULE_0__.YP)((()=>state.hp),(e=>{e<=0&&(state.status=!1,app.ticker.stop(),bulletArr=[],chickenArr=[],hairArr=[],litchiArr=[],state.hp=100,state.content="您失败了！")}));const panel=(0,vue__WEBPACK_IMPORTED_MODULE_3__.iH)(null);return(0,vue__WEBPACK_IMPORTED_MODULE_0__.bv)((()=>{panel.value&&panel.value.appendChild(app.view)})),(e,_)=>((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.iD)(vue__WEBPACK_IMPORTED_MODULE_0__.HY,null,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",{class:"panel",id:"panel",ref_key:"panel",ref:panel},null,512),(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("ul",null,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("li",null,"得分:"+(0,vue__WEBPACK_IMPORTED_MODULE_6__.zw)((0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).score),1),(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("li",null,[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Uk)(" HP:"+(0,vue__WEBPACK_IMPORTED_MODULE_6__.zw)((0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).hp)+" ",1),(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",_hoisted_2,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",{class:(0,vue__WEBPACK_IMPORTED_MODULE_6__.C_)(["cur-hp",(0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(hpClass)]),style:(0,vue__WEBPACK_IMPORTED_MODULE_6__.j5)({width:(0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).hp+"px"})},null,6)])])])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).status?(0,vue__WEBPACK_IMPORTED_MODULE_0__.kq)("",!0):((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.iD)("div",_hoisted_3,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",_hoisted_4,[(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",_hoisted_5,(0,vue__WEBPACK_IMPORTED_MODULE_6__.zw)((0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).content),1),(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",_hoisted_6,"得分："+(0,vue__WEBPACK_IMPORTED_MODULE_6__.zw)((0,vue__WEBPACK_IMPORTED_MODULE_3__.SU)(state).score),1),(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("div",{class:"start-btn",onClick:startGame},"开始游戏")])]))],64))}})},6028:function(e,_,t){function r(e,_){let t;t=!1,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,_.centerX=_.x+_.width/2,_.centerY=_.y+_.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,_.halfWidth=_.width/2,_.halfHeight=_.height/2;const r=e.centerX-_.centerX,a=e.centerY-_.centerY,i=e.halfWidth+_.halfWidth,n=e.halfHeight+_.halfHeight;return t=Math.abs(r)<i&&Math.abs(a)<n,t}t.d(_,{Y:function(){return r}})},3697:function(e,_,t){t.d(_,{Z:function(){return n}});const r=5;function a(e){const _={value:e,isDown:!1,isUp:!0,press:void 0,release:void 0,downHandler:void 0,upHandler:void 0,unsubscribe:void 0};_.downHandler=e=>{e.key===_.value&&(_.isUp&&_.press&&_.press(),_.isDown=!0,_.isUp=!1,e.preventDefault())},_.upHandler=e=>{e.key===_.value&&(_.isDown&&_.release&&_.release(),_.isDown=!1,_.isUp=!0,e.preventDefault())};const t=_.downHandler.bind(_),r=_.upHandler.bind(_);return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",r,!1),_.unsubscribe=()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r)},_}function i(e){const _=e.currentTarget,{x:t,y:r}=e.data.global;_.x=t-50,_.y=r-75}function n(e){e.on("pointermove",i);const _=a("ArrowLeft"),t=a("ArrowUp"),n=a("ArrowRight"),c=a("ArrowDown");_.press=()=>{e.vx=-r,e.vy=0},_.release=()=>{n.isDown||0!==e.vy||(e.vx=0)},t.press=()=>{e.vy=-r,e.vx=0},t.release=()=>{c.isDown||0!==e.vx||(e.vy=0)},n.press=()=>{e.vx=r,e.vy=0},n.release=()=>{_.isDown||0!==e.vy||(e.vx=0)},c.press=()=>{e.vy=r,e.vx=0},c.release=()=>{t.isDown||0!==e.vx||(e.vy=0)}}},8878:function(e,_,t){t.d(_,{_:function(){return m}});var r=t(6781),a=t(8649),i=t(6378),n=t(6778),c=t(3067),s=t(9832),l=t(9311),p=t(7362),d=t(6227),o=t(8397),u=t(9210),h=t(1952),v=t(6433),E=t(7525);const m={basketball:r,chicken:a,litchi:i,kun:n,cxk:c,branch:s,lsh:l,bg:p,hair:d,boom:o,crow:u,ngm:h,biu:v,reward:E}},4923:function(e,_,t){var r=t(9242),a=t(3396),i=t(1573),n=t(89);const c=(0,n.Z)(i.Z,[["__scopeId","data-v-6c791865"]]);var s=c,l=t(4870),p=t(7139),d=t(6922),o=t(6378),u=t(6227),h=t(8649),v=t(9311),E=t(9832),m=t(6778),w=t(7349);const b={class:"set-box"},f=["src"],P={class:"music-img-wrap",for:"music"},A=(0,a.uE)('<div class="desc" data-v-cdda0ec8><h3 data-v-cdda0ec8>游戏说明</h3><p data-v-cdda0ec8>操作方向键(⬅⬆➡⬇)或移动鼠标(🖱)控制坤坤移动</p><p data-v-cdda0ec8>作者：<s data-v-cdda0ec8>小黑子</s> ikun</p><p data-v-cdda0ec8> github:<a href="https://github.com/1051029357/plane-game" target="_blank" data-v-cdda0ec8>1051029537的github</a></p><p data-v-cdda0ec8>点击该面板收起</p></div><ul class="goods-list" data-v-cdda0ec8><li class="item" data-v-cdda0ec8><img src="'+o+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>荔枝：HP+20</div></li><li class="item" data-v-cdda0ec8><img src="'+u+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>中分：buff加成</div></li><li class="item" data-v-cdda0ec8><img src="'+h+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>已练习两年半</div></li><li class="item" data-v-cdda0ec8><img src="'+v+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>绿尸寒:暂定</div></li><li class="item" data-v-cdda0ec8><img src="'+E+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>树枝:暂定</div></li><li class="item" data-v-cdda0ec8><img src="'+m+'" data-v-cdda0ec8><div class="text" data-v-cdda0ec8>鲲:暂定</div></li></ul>',2);var M=(0,a.aZ)({setup(e){const _=(0,l.qj)({playMusic:!1,isOpen:!0,elWidth:0});(0,a.YP)((()=>_.playMusic),((e,_)=>{let t=document.getElementById("audio");e?t&&(t.volume=.3,t.play()):t&&t.pause()}));const t=(0,l.iH)(null);return(0,a.bv)((()=>{t.value&&(_.elWidth=t.value.offsetWidth)})),(e,i)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",b,[(0,a._)("audio",{src:(0,l.SU)(w),autoplay:"",id:"audio",loop:""},null,8,f),(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=e=>(0,l.SU)(_).playMusic=e),id:"music"},null,512),[[r.e8,(0,l.SU)(_).playMusic]]),(0,a._)("label",P,[(0,a._)("img",{class:(0,p.C_)({rotate:(0,l.SU)(_).playMusic}),src:d},null,2)])]),(0,a._)("div",{class:"info-box",style:(0,p.j5)({left:(0,l.SU)(_).isOpen?"10px":-(0,l.SU)(_).elWidth+"px"}),ref_key:"boxRef",ref:t,onClick:i[2]||(i[2]=e=>(0,l.SU)(_).isOpen=!1)},[A,(0,a.wy)((0,a._)("div",{class:"operate",onClick:i[1]||(i[1]=(0,r.iM)((e=>(0,l.SU)(_).isOpen=!0),["stop"]))}," > ",512),[[r.F8,!(0,l.SU)(_).isOpen]])],4)],64))}});const O=(0,n.Z)(M,[["__scopeId","data-v-cdda0ec8"]]);var y=O,D=(0,a.aZ)({setup(e){return(e,_)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(y)],64))}});const g=D;var k=g;const x={mounted:function(e){const _=e.clientWidth/2,t=e.clientHeight/2,r=document.body.clientWidth,a=document.body.clientHeight;document.onmousemove=function(i){let n=i.clientX,c=i.clientY;n<_&&(n=_),n>r-_&&(n=r-_),c<t&&(c=t),c>a-t&&(c=a-t),e.style.left=n-_+"px",e.style.top=c-t+"px"}}},W=(0,r.ri)(k);W.directive("move",x),W.mount("#app")},6781:function(e,_,t){e.exports=t.p+"img/baseketball.91e7ded5.png"},7362:function(e,_,t){e.exports=t.p+"img/bg.665fabe3.png"},9832:function(e,_,t){e.exports=t.p+"img/branch.99be0f2c.png"},8649:function(e,_,t){e.exports=t.p+"img/chicken.52503af1.png"},3067:function(e,_,t){e.exports=t.p+"img/cxk.6a17ea3c.png"},6227:function(e,_,t){e.exports=t.p+"img/hair.d3b45ae2.png"},6778:function(e,_,t){e.exports=t.p+"img/kun.76a26fa8.png"},6378:function(e,_,t){e.exports=t.p+"img/litchi.0d6bd480.png"},9311:function(e,_,t){e.exports=t.p+"img/lsh.c95fefa6.png"},6922:function(e,_,t){e.exports=t.p+"img/music-icon.d8ee8873.png"},6433:function(e,_,t){e.exports=t.p+"media/biu.0c642c0b.mp3"},8397:function(e,_,t){e.exports=t.p+"media/boom.b36270b5.mp3"},9210:function(e,_,t){e.exports=t.p+"media/crow.89d55a26.mp3"},7349:function(e,_,t){e.exports=t.p+"media/jntm.2818649f.mp3"},1952:function(e,_,t){e.exports=t.p+"media/ngm.352fa6e0.aac"},7525:function(e,_,t){e.exports=t.p+"media/reward.215c76ff.mp3"}},__webpack_module_cache__={};function __webpack_require__(e){var _=__webpack_module_cache__[e];if(void 0!==_)return _.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(_,t,r,a){if(!t){var i=1/0;for(l=0;l<e.length;l++){t=e[l][0],r=e[l][1],a=e[l][2];for(var n=!0,c=0;c<t.length;c++)(!1&a||i>=a)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[c])}))?t.splice(c--,1):(n=!1,a<i&&(i=a));if(n){e.splice(l--,1);var s=r();void 0!==s&&(_=s)}}return _}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,r,a]}}(),function(){__webpack_require__.n=function(e){var _=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(_,{a:_}),_}}(),function(){__webpack_require__.d=function(e,_){for(var t in _)__webpack_require__.o(_,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:_[t]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)}}(),function(){__webpack_require__.p=""}(),function(){var e={143:0};__webpack_require__.O.j=function(_){return 0===e[_]};var _=function(_,t){var r,a,i=t[0],n=t[1],c=t[2],s=0;if(i.some((function(_){return 0!==e[_]}))){for(r in n)__webpack_require__.o(n,r)&&(__webpack_require__.m[r]=n[r]);if(c)var l=c(__webpack_require__)}for(_&&_(t);s<i.length;s++)a=i[s],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(l)},t=self["webpackChunkplane_game"]=self["webpackChunkplane_game"]||[];t.forEach(_.bind(null,0)),t.push=_.bind(null,t.push.bind(t))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(4923)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.369e177a.js.map